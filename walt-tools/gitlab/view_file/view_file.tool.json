{
  "name": "edit_file",
  "description": "Edit a file in a GitLab repository by navigating to the file, opening the editor, replacing the content, and committing the changes.",
  "version": "2.0.0",
  "steps": [
    {
      "description": "Navigate to the file in the repository",
      "output": null,
      "type": "navigation",
      "url": "{origin}/{project_path}/-/blob/{ref}/{file_path}",
      "url_operation": null
    },
    {
      "description": "Click Edit to open the file editor (using discovered selector)",
      "output": null,
      "cssSelector": "#web-ide-link__BV_button_",
      "xpath": "html/body/div[3]/div/div[3]/main/div[3]/div[3]/div/div/div/div[2]/div[2]/span/div/a",
      "elementTag": "a",
      "elementHash": "8f388f2ab7",
      "type": "click"
    },
    {
      "description": "Handle fork confirmation modal - click Fork project to proceed with editing",
      "output": null,
      "type": "agent",
      "task": "If a fork confirmation modal appears, click 'Fork project' or the confirm button to proceed with editing. If no modal appears, continue to the next step.",
      "max_steps": 3
    },
    {
      "description": "Replace the file content in the editor",
      "output": null,
      "type": "agent",
      "task": "Find the file content editor (Monaco editor or textarea) and replace all existing content with the new content: {new_content}",
      "max_steps": 5
    },
    {
      "description": "Add commit message for the change",
      "output": null,
      "type": "agent", 
      "task": "Find the commit message input field and enter: {commit_message}",
      "max_steps": 3
    },
    {
      "description": "Commit the changes to save the file",
      "output": null,
      "type": "agent",
      "task": "Click the commit button to save the changes to the file",
      "max_steps": 3
    }
  ],
  "input_schema": [
    {
      "name": "origin",
      "type": "string",
      "format": "url",
      "required": true,
      "enum": null,
      "description": "GitLab base URL with protocol (e.g., https://gitlab.example.com)"
    },
    {
      "name": "project_path",
      "type": "string",
      "format": null,
      "required": true,
      "enum": null,
      "description": "Project path without leading slash (e.g., username/projectname)"
    },
    {
      "name": "ref",
      "type": "string",
      "format": null,
      "required": true,
      "enum": null,
      "description": "Branch, tag, or commit reference (e.g., main, master, v1.0.0)"
    },
    {
      "name": "file_path",
      "type": "string",
      "format": null,
      "required": true,
      "enum": null,
      "description": "Path to the file within the repository (e.g., LICENSE, README.md, src/main.py)"
    },
    {
      "name": "new_content",
      "type": "string",
      "format": null,
      "required": true,
      "enum": null,
      "description": "The new content to replace the entire file with"
    },
    {
      "name": "commit_message",
      "type": "string",
      "format": null,
      "required": false,
      "enum": null,
      "description": "Commit message describing the change (defaults to 'Update {file_path}' if not provided)"
    }
  ]
}